---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```

# HT-MMIOW

<!-- badges: start -->
<!-- badges: end -->

HT-MMIOW is a hypothesis test approach for microbiome mediation that uses inverse odds ratio weighting. In short, this approach uses UMAP to reduce the dimensions of microbiome data and quantifies the indirect effect of multiple mediators using inverse odds weighting. We employ a permutation test to test if an indirect effect exists. 

## Installation

You can install the development version of HTMMIOW from [GitHub](https://github.com/) with:

```{r, message=FALSE}
# install.packages("devtools")
library(devtools)
install_github("yukamoro/HTMMIOW")
```



## Usage

Provide `Perform_HTMMIOW` with exposure, mediator, and outcome data. The user may specify the number of umap components and permutations for the test.

```{r example}
library(HTMMIOW)
data(sim_data)

set.seed(10)
htmmiow_output = Perform_HTMMIOW(exposure = sim_data$sim_exposure,
                                 outcome = sim_data$sim_outcome,
                                 mediator = sim_data$sim_microbiome,
                                 umapcomponents = 2,
                                 B = 5000)

htmmiow_output$pk_2

```

Here, the p-value is `r htmmiow_output$pk_2`, so we conlude that the microbiome is a mediator in the causal path between exposure and outcome. Further information can be found in the vignette and corresponding manuscript. 

##Issues

Please report any issues [here](https://github.com/yukamoro/HTMMIOW/issues). 

## Reference

Manuscript for HT-MMIOW available soon. 


